local T, C, L = unpack(Tukui)-------------------------------------------------	Battleground Defence Announcer, By Azmara -----------------------------------------------local color = RAID_CLASS_COLORS[T.myclass]local font = C.media.pixelfontlocal fontsize = 8local fontflag = "MONOCHROMEOUTLINE"local hexa = T.StatColorlocal hexb = T.StatColorEndlocal buttonsize = (T.InfoLeftRightWidth / 6) - 3local xpoint = 0local ypoint = 0	-- Create Main Button Frame	local buttonframe = CreateFrame("Frame", "BGAnnouncerButtonFrame", UIParent)buttonframe:CreatePanel("Hydra", T.InfoLeftRightWidth, 20, "CENTER", TukuiInfoRight, "CENTER", xpoint, ypoint)buttonframe:Hide()buttonframe:SetFrameLevel(0)buttonframe:SetFrameStrata("BACKGROUND")buttonframe:CreateShadow("Hydra")	-- Button 1local button1 = CreateFrame("Button", "BGAnnouncerButton1", buttonframe, "SecureActionButtonTemplate")button1:CreatePanel("Hyrda", (buttonsize+2), 16, "BOTTOMLEFT", buttonframe, "BOTTOMLEFT", 2,2)button1:SetFrameLevel(1)button1:SetFrameStrata("LOW")button1:EnableMouse(true)button1:SetAttribute("type", "macro")button1:SetAttribute("macrotext", "/bg Light Attack Incoming to "..GetMinimapZoneText())local button1_text = button1:CreateFontString(nil,"Overlay")button1_text:SetFont(font, 8, fontflag)button1_text:Point("Center",1,0)button1_text:SetText(hexa.."Low")button1:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button1:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)	--Button 2local button2 = CreateFrame("Button", "BGAnnouncerButton2", buttonframe, "SecureActionButtonTemplate")button2:CreatePanel("Hydra", buttonsize, 16, "LEFT", button1, "RIGHT", 2,0)button2:SetFrameLevel(1)button2:SetFrameStrata("LOW")button2:EnableMouse(true)button2:SetAttribute("type", "macro")button2:SetAttribute("macrotext", "/bg Medium attack Incoming to "..GetMinimapZoneText())	local button2_text = button2:CreateFontString(nil,"Overlay")button2_text:SetFont(font, fontsize, fontflag)button2_text:Point("Center",1,0)button2_text:SetText(hexa.."Med")button2:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button2:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)	-- Button 3local button3 = CreateFrame("Button", "BGAnnouncerButton3", buttonframe, "SecureActionButtonTemplate")button3:CreatePanel("Hydra", buttonsize, 16, "LEFT", button2, "RIGHT", 2,0)button3:SetFrameLevel(1)button3:SetFrameStrata("LOW")button3:EnableMouse(true)button3:SetAttribute("type", "macro")button3:SetAttribute("macrotext", "/bg Heavy attack Incoming to "..GetMinimapZoneText())	local button3_text = button3:CreateFontString(nil,"Overlay")button3_text:SetFont(font, fontsize, fontflag)button3_text:Point("Center",1,0)button3_text:SetText(hexa.."High")button3:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button3:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)	-- Button 4local button4 = CreateFrame("Button", "BGAnnouncerButton4", buttonframe, "SecureActionButtonTemplate")button4:CreatePanel("Hydra", buttonsize, 16, "LEFT", button3, "RIGHT", 2,0)button4:SetFrameLevel(1)button4:SetFrameStrata("LOW")button4:EnableMouse(true)button4:SetAttribute("type", "macro")button4:SetAttribute("macrotext", "/bg All Clear at"..GetMinimapZoneText())	local button4_text = button4:CreateFontString(nil,"Overlay")button4_text:SetFont(font, fontsize, fontflag)button4_text:Point("Center",1,0)button4_text:SetText(hexa.."Secure")button4:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button4:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)-- Button 5local button5 = CreateFrame("Button", "BGAnnouncerButton5", buttonframe, "SecureActionButtonTemplate")button5:CreatePanel("Hydra", buttonsize, 16, "LEFT", button4, "RIGHT", 2,0)button5:SetFrameLevel(1)button5:SetFrameStrata("LOW")button5:EnableMouse(true)button5:SetAttribute("type", "macro")button5:SetAttribute("macrotext", "/say Focus Damage on %t")	local button5_text = button5:CreateFontString(nil,"Overlay")button5_text:SetFont(font, fontsize, fontflag)button5_text:Point("Center",1,0)button5_text:SetText(hexa.."Focus")button5:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button5:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)	-- Button 6local button6 = CreateFrame("Button", "BGAnnouncerButton5", buttonframe, "SecureActionButtonTemplate")button6:CreatePanel("Hydra", buttonsize, 16, "LEFT", button5, "RIGHT", 2,0)button6:SetFrameLevel(1)button6:SetFrameStrata("LOW")button6:EnableMouse(true)button6:SetAttribute("type", "macro")button6:SetAttribute("macrotext", "/say Stealthed Enemies nearby")local button6_text = button6:CreateFontString(nil,"Overlay")button6_text:SetFont(font, fontsize, fontflag)button6_text:Point("Center",1,0)button6_text:SetText(hexa.."Stealth")button6:SetScript("OnEnter", function(self) self:SetBackdropBorderColor(color.r, color.g, color.b) end)button6:SetScript("OnLeave", function(self) self:SetBackdropBorderColor(unpack(C.media.bordercolor)) end)local UpdateZone = CreateFrame("Frame")local function OnEvent(self, event)	if event == "PLAYER_ENTERING_WORLD" then		local inInstance, instanceType = IsInInstance()		if inInstance and (instanceType == "pvp") then			buttonframe:Show()		else			buttonframe:Hide()		end	end		button1:SetAttribute("macrotext", "/bg Light attack incoming to "..GetMinimapZoneText())	button2:SetAttribute("macrotext", "/bg Medium attack Incoming to "..GetMinimapZoneText())	button3:SetAttribute("macrotext", "/bg Heavy Incoming to "..GetMinimapZoneText())	button4:SetAttribute("macrotext", "/bg all clear at "..GetMinimapZoneText())	endUpdateZone:RegisterEvent("PLAYER_ENTERING_WORLD")UpdateZone:RegisterEvent("ZONE_CHANGED_NEW_AREA")UpdateZone:RegisterEvent("ZONE_CHANGED")UpdateZone:SetScript("OnEvent", OnEvent)